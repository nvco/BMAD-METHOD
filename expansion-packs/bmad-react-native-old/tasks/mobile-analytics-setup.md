# Mobile Analytics Setup

## ⚠️ CRITICAL EXECUTION NOTICE ⚠️

**THIS IS AN EXECUTABLE WORKFLOW - NOT REFERENCE MATERIAL**

When this task is invoked:

1. **DISABLE ALL EFFICIENCY OPTIMIZATIONS** - This workflow requires full user interaction
2. **MANDATORY STEP-BY-STEP EXECUTION** - Each analytics component must be processed sequentially with user feedback
3. **ELICITATION IS REQUIRED** - When `elicit: true`, you MUST use the 1-9 format and wait for user response
4. **NO SHORTCUTS ALLOWED** - Mobile analytics setup cannot be completed without following this workflow

**VIOLATION INDICATOR:** If you create a complete analytics setup without user interaction, you have violated this workflow.

## Critical: Mobile Analytics Context Requirements

Before beginning analytics setup, establish mobile-specific context:

- **Target platforms**: iOS, Android, or cross-platform analytics requirements
- **Business objectives**: User acquisition, retention, monetization, performance optimization
- **Data privacy requirements**: GDPR, CCPA, platform privacy guidelines, user consent
- **Technical constraints**: React Native limitations, native module requirements
- **Analytics tools**: Preferred platforms, integration complexity, cost considerations

## CRITICAL: Mandatory Mobile Analytics Setup Format

**When configuring each analytics component, this is a HARD STOP requiring user interaction:**

**YOU MUST:**

1. Present analytics component analysis with mobile-specific implementation requirements
2. Provide detailed mobile analytics recommendations (tracking strategy, implementation approach, privacy compliance)
3. **STOP and present numbered options 1-9:**
   - **Option 1:** Always "Proceed to next analytics component"
   - **Options 2-9:** Select 8 methods from mobile analytics setup techniques:
     - Cross-platform analytics implementation and data consistency
     - Mobile user behavior tracking and engagement measurement
     - App performance monitoring and crash reporting integration
     - Revenue and monetization analytics with platform-specific tracking
     - User acquisition funnel and attribution tracking setup
     - Privacy-compliant data collection and consent management
     - Real-time analytics dashboard and alerting configuration
     - A/B testing and feature flag analytics integration
   - End with: "Select 1-9 or just type your question/feedback:"
4. **WAIT FOR USER RESPONSE** - Do not proceed until user selects option or provides feedback

**WORKFLOW VIOLATION:** Configuring analytics components without user interaction violates this task.

**NEVER proceed to the next component without user selection.**

## Mobile Analytics Setup Framework

### Phase 1: Mobile Analytics Strategy Planning

1. **Define mobile analytics objectives**:
   - **User Acquisition**: Download sources, campaign effectiveness, cost per acquisition
   - **User Engagement**: Session metrics, feature usage, retention cohorts
   - **App Performance**: Startup time, crash rates, user experience quality
   - **Business Metrics**: Revenue tracking, conversion funnels, lifetime value
   - **Platform Performance**: iOS vs Android user behavior and business impact
   - **Privacy Compliance**: Consent management, data minimization, regional compliance

### Phase 2: Mobile Analytics Implementation (Interactive)

For each mobile analytics component:

1. **Present mobile analytics component analysis:**
   - Analytics component purpose and mobile implementation requirements
   - Cross-platform tracking strategy and data consistency approach
   - Privacy compliance and user consent management considerations
   - Integration complexity and React Native compatibility assessment
   - Data accuracy and platform-specific measurement challenges

2. **Assess mobile analytics implementation approach:**
   - **Core Analytics**: User behavior, session tracking, event measurement
   - **Performance Monitoring**: App speed, crash reporting, performance optimization
   - **Business Intelligence**: Revenue tracking, conversion analysis, user value measurement
   - **User Experience**: Funnel analysis, pain point identification, satisfaction tracking
   - **Platform Analytics**: iOS vs Android performance comparison and optimization
   - **Privacy Management**: Consent collection, data protection, compliance monitoring

3. **MANDATORY USER INTERACTION** (use 1-9 format above)

4. **Document analytics configuration** with mobile-specific implementation details

### Phase 3: Cross-Platform Analytics Coordination

Ensure analytics strategy provides consistent cross-platform insights:

```
MOBILE ANALYTICS COVERAGE MATRIX

Analytics Component       iOS      Android    Cross-Platform
User Behavior Tracking    ✅        ✅           ✅
Performance Monitoring    ✅        ✅           ✅
Business Metrics          ✅        ✅           ✅
Crash Reporting           ✅        ✅           ✅
A/B Testing              ✅        ✅           ✅
Privacy Compliance       ✅        ✅           ✅
Real-time Dashboards     ✅        ✅           ✅
```

### Phase 4: Mobile Analytics Infrastructure Implementation

1. **Analytics platform integration:**
   - React Native SDK installation and configuration
   - Platform-specific native module setup and bridge integration
   - Cross-platform event tracking and data consistency validation
   - Real-time data pipeline and analytics dashboard configuration

2. **Privacy and compliance implementation:**
   - User consent collection and management system
   - Data anonymization and user privacy protection
   - GDPR, CCPA, and platform privacy guideline compliance
   - Opt-out mechanisms and data deletion request handling

3. **Analytics validation and testing:**
   - Event tracking accuracy validation across platforms
   - Performance impact assessment and optimization
   - Data quality monitoring and anomaly detection
   - A/B testing framework validation and statistical significance

## Mobile Analytics Implementation Components

### 1. Core User Behavior Analytics
**Framework**: Comprehensive user interaction and engagement tracking
- **Session Tracking**: App opens, session duration, user flow analysis
- **Event Tracking**: Feature usage, user actions, conversion events
- **User Properties**: Demographics, preferences, platform usage patterns
- **Funnel Analysis**: User journey optimization and conversion improvement
- **Cohort Analysis**: User retention, engagement trends, lifecycle management
- **Segmentation**: User groups, platform preferences, behavior clustering

### 2. Mobile Performance Analytics
**Purpose**: App performance monitoring and optimization insights
- **App Performance**: Startup time, screen load time, responsiveness metrics
- **Crash Reporting**: Error tracking, stability monitoring, fix prioritization
- **Memory Usage**: RAM consumption, memory leaks, garbage collection impact
- **Battery Impact**: Power consumption tracking and optimization opportunities
- **Network Performance**: API response times, offline usage, data consumption
- **Device Performance**: Hardware-specific performance and compatibility issues

### 3. Business and Revenue Analytics
**Focus**: Monetization tracking and business metric optimization
- **Revenue Tracking**: In-app purchases, subscription metrics, platform revenue
- **Conversion Funnels**: Purchase flow optimization and abandonment analysis
- **Customer Lifetime Value**: User value calculation and retention correlation
- **App Store Analytics**: Download sources, keyword performance, listing conversion
- **User Acquisition**: Campaign attribution, cost analysis, channel effectiveness
- **Monetization Optimization**: Pricing strategy, feature adoption, revenue growth

### 4. Cross-Platform Analytics Coordination
**Approach**: Unified analytics with platform-specific insights
- **Data Consistency**: Unified event schema and cross-platform data normalization
- **Platform Comparison**: iOS vs Android user behavior and business performance
- **Feature Adoption**: Cross-platform feature usage and platform-specific preferences
- **Performance Benchmarking**: Platform-specific performance optimization priorities
- **User Experience**: Platform-appropriate UX measurement and optimization
- **Business Impact**: Platform strategy and resource allocation optimization

### 5. Privacy-Compliant Analytics Implementation
**Requirements**: User privacy protection and regulatory compliance
- **Consent Management**: GDPR, CCPA, and platform privacy guideline compliance
- **Data Minimization**: Collect only necessary data for business objectives
- **User Control**: Opt-out mechanisms, data deletion, transparency reporting
- **Data Security**: Encryption, secure transmission, access control
- **Regional Compliance**: Jurisdiction-specific privacy law adherence
- **Audit Trail**: Privacy compliance monitoring and violation prevention

### 6. Real-Time Analytics and Alerting
**Tools**: Live monitoring and proactive issue detection
- **Real-Time Dashboards**: Live user activity, performance metrics, business KPIs
- **Alerting System**: Performance degradation, error spikes, business metric anomalies
- **Automated Responses**: Performance optimization triggers, error recovery procedures
- **Monitoring Integration**: APM tools, crash reporting, business intelligence platforms
- **Escalation Procedures**: Critical issue response, stakeholder notification, resolution tracking

## Mobile Analytics Best Practices

### Cross-Platform Implementation
- **Unified Schema**: Consistent event structure and property naming across platforms
- **Platform Context**: Include platform-specific context in all analytics events
- **Data Normalization**: Standardize data formats and measurement units
- **Quality Assurance**: Validate analytics accuracy across iOS and Android
- **Performance Impact**: Minimize analytics overhead on app performance and battery

### Privacy and Compliance
- **Transparent Collection**: Clear user communication about data collection and usage
- **Minimal Data**: Collect only data necessary for defined business objectives
- **User Control**: Provide easy opt-out and data management options
- **Secure Handling**: Implement encryption, secure transmission, and access controls
- **Regular Audits**: Monitor compliance and update practices for regulatory changes

### Business Value Optimization
- **Actionable Metrics**: Focus on metrics that drive business decisions and user value
- **Performance Correlation**: Connect analytics insights to app performance and user satisfaction
- **Iterative Improvement**: Use analytics to guide feature development and optimization
- **Predictive Analytics**: Implement forecasting for user behavior and business trends
- **ROI Measurement**: Track analytics investment return and optimization impact

## Output Requirements

**MANDATORY DELIVERABLES:**

1. **Mobile Analytics Architecture** with React Native implementation strategy
2. **Cross-Platform Tracking Plan** with event schema and data consistency approach
3. **Privacy Compliance Framework** with consent management and data protection plan
4. **Performance Monitoring Setup** with alerting and optimization trigger configuration
5. **Business Intelligence Dashboard** with KPI tracking and real-time monitoring
6. **Analytics Validation Plan** with accuracy testing and quality assurance procedures

## Mobile Analytics Technical Implementation

### React Native Analytics SDK Setup
```javascript
// Cross-platform analytics initialization
import Analytics from '@react-native-analytics/core';
import { Platform } from 'react-native';

// Initialize with platform-specific configuration
const initializeAnalytics = () => {
  Analytics.initialize({
    apiKey: Platform.OS === 'ios' ? IOS_API_KEY : ANDROID_API_KEY,
    debug: __DEV__,
    enableCrashReporting: true,
    enablePerformanceMonitoring: true,
    privacySettings: {
      enableGDPRCompliance: true,
      defaultConsentState: 'pending'
    }
  });
};

// User consent management
const handleUserConsent = (consentGranted) => {
  Analytics.setConsentState(consentGranted ? 'granted' : 'denied');
  if (consentGranted) {
    Analytics.enableDataCollection();
  } else {
    Analytics.disableDataCollection();
  }
};
```

### Cross-Platform Event Tracking
```javascript
// Standardized event tracking with platform context
const trackEvent = (eventName, properties = {}) => {
  const enhancedProperties = {
    ...properties,
    platform: Platform.OS,
    app_version: DeviceInfo.getVersion(),
    device_type: DeviceInfo.getDeviceType(),
    timestamp: Date.now()
  };
  
  Analytics.track(eventName, enhancedProperties);
};

// User behavior tracking
const trackUserBehavior = {
  screenView: (screenName) => trackEvent('screen_view', { screen_name: screenName }),
  featureUsage: (feature) => trackEvent('feature_used', { feature_name: feature }),
  userAction: (action, context) => trackEvent('user_action', { action, context }),
  conversion: (type, value) => trackEvent('conversion', { type, value })
};
```

### Performance Analytics Integration
```javascript
// Mobile performance monitoring
import { PerformanceMonitor } from 'react-native-performance';

const trackPerformance = {
  appStartup: () => {
    PerformanceMonitor.mark('app_start');
    PerformanceMonitor.measure('startup_time', 'app_start');
  },
  
  screenLoad: (screenName) => {
    PerformanceMonitor.mark(`${screenName}_start`);
    return () => {
      PerformanceMonitor.mark(`${screenName}_end`);
      PerformanceMonitor.measure(`${screenName}_load_time`, 
        `${screenName}_start`, `${screenName}_end`);
    };
  },
  
  apiCall: (endpoint) => {
    const startMark = `api_${endpoint}_start`;
    PerformanceMonitor.mark(startMark);
    return () => {
      const endMark = `api_${endpoint}_end`;
      PerformanceMonitor.mark(endMark);
      PerformanceMonitor.measure(`api_${endpoint}_duration`, startMark, endMark);
    };
  }
};
```

### Business Metrics Tracking
```javascript
// Revenue and business analytics
const trackBusinessMetrics = {
  purchase: (productId, price, currency) => {
    trackEvent('purchase', {
      product_id: productId,
      price: price,
      currency: currency,
      platform_revenue: Platform.OS
    });
  },
  
  subscription: (tier, period, price) => {
    trackEvent('subscription', {
      tier: tier,
      billing_period: period,
      price: price,
      platform: Platform.OS
    });
  },
  
  userLifetimeValue: (userId, value) => {
    Analytics.setUserProperty('lifetime_value', value);
    trackEvent('ltv_updated', { user_id: userId, ltv: value });
  }
};
```

## Success Criteria

✅ **Mobile Analytics Setup Complete When:**
- All analytics components implemented with cross-platform consistency
- User behavior tracking provides actionable insights for feature development
- Performance monitoring enables proactive optimization and issue resolution
- Business metrics support data-driven decision making and growth optimization
- Privacy compliance protects user data and meets regulatory requirements
- Real-time monitoring and alerting enable rapid response to issues and opportunities

## Integration Notes

- **Works with mobile-pm** for business metric definition and performance tracking
- **Supports mobile-dev** with performance monitoring and optimization insights
- **Aligns with mobile-po** for user behavior analysis and feature validation
- **Guides mobile-qa** with crash reporting and quality assurance metrics
- **Coordinates with mobile-orchestrator** for analytics workflow and reporting management